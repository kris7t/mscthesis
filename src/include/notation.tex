
%
% General
%

\newcommand*{\rel}[1]{\textrm{\itshape #1\/}}
\newcommand*{\lit}[1]{\texttt{\upshape #1}}
\newcommand*{\symb}{}\let\symb\rel

\DeclareMathOperator*{\argmin}{arg\,min}
\DeclareMathOperator*{\argmax}{arg\,max}
\newcommand*{\dd}{\mathrm{d}}
\newcommand*{\T}{\mathrm{T}}
\newcommand*{\vecarrow}{}\let\vecarrow\vec
\renewcommand*{\vec}[1]{\bm{\mathrm{#1}}}

\DeclareRobustCommand{\circled}[1]{\smash{\tikz[baseline=(char.base)]{
            \node[shape=circle,draw,inner sep=1pt] (char) {\(\mathsmaller{#1}\)};}}}
% Tuples
\newcommand*{\ltup}{\langle}
\newcommand*{\rtup}{\rangle}

% Disjoint unions
\newcommand*{\djcup}{\sqcup}
\newcommand*{\bigdjcup}{\bigsqcup}

% https://tex.stackexchange.com/a/196791/8744
\makeatletter
\newcommand{\bigDiamond}{\mathop{\mathpalette\bigDi@mond\relax}}
\newcommand{\bigDi@mond}[2]{%
  \vcenter{\hbox{\m@th
    \scalebox{\ifx#1\displaystyle 2\else1.2\fi}{$#1\Diamond$}%
  }}%
}
\makeatother

%
% Numbers
%

\newcommand*{\RR}{\mathbb{R}} % Reals
\newcommand*{\RRpos}{\RR^{+}} % Positiver reals
\newcommand*{\QQ}{\mathbb{Q}} % Rationals
\newcommand*{\ZZ}{\mathbb{Z}} % Whole numbers
\newcommand*{\NN}{\mathbb{N}} % Naturals
\newcommand*{\NNpos}{\NN^{+}} % Positive whole numbers
\newcommand*{\BB}{\mathbb{B}} % Booleans

%
% Petri nets
%
\newcommand*{\outarc}{\leftarrow}
\newcommand*{\inarc}{\rightarrow}
\newcommand*{\inharc}{\multimap}
\newcommand*{\assign}{\coloneq}
\newcommand*{\member}{\mathrel{{+}{=}}}
\newcommand*{\Par}{\rel{Par}}
\newcommand*{\Expr}{\rel{Expr}}
\newcommand*{\Type}{\rel{Type}}
\newcommand*{\tranto}[1]{\mathbin{\begin{tikzpicture}[baseline]
      \node (n) [anchor=base,inner xsep=1pt,inner ysep=1pt] {\kern1pt\ensuremath{#1\mathstrut}};
      \draw (n.north west) -- (n.south west) -- (n.south east) -- ($(n.east)+(3pt,0)$) -- (n.north east) -- cycle;
    \end{tikzpicture}}}
\newcommand*{\tranenabled}[2]{#1\,{\tranto{#2}}}
\newcommand*{\reachto}{\mathbin{\begin{tikzpicture}[baseline]
      \node (n) [anchor=base,inner xsep=1pt,inner ysep=1pt] {\mathstrut\kern1pt\ensuremath{\ast}};
      \draw (n.north west) -- (n.south west) -- (n.south east) -- ($(n.east)+(3pt,0)$) -- (n.north east) -- cycle;
      \draw ($(n.south east)+(2pt,0)$) -- ($(n.east)+(5pt,0)$) -- ($(n.north east)+(2pt,0)$);
      \draw ($(n.south east)+(4pt,0)$) -- ($(n.east)+(7pt,0)$) -- ($(n.north east)+(4pt,0)$);
    \end{tikzpicture}}}
\newcommand*{\RS}{\textit{RS}}

%
% Probability
%

\let\Pr\relax
\DeclareMathOperator{\Pr}{\mathbb{P}}
\DeclareMathOperator{\Ex}{\mathbb{E}}

%
% Types
%

\newcommand*{\subtype}{\mathrel{<\vcentcolon}}
\newcommand*{\oftype}{\mathrel{\vcentcolon}}
\newcommand*{\ofkind}{\mathrel{\vcentcolon\vcentcolon}}
\newcommand*{\bagtype}[1]{#1\mathclose{\texttt{[]}}}
\newcommand*{\vartype}[2]{#1\ #2}
\newcommand*{\OBJsort}{\textit{OBJ}}
\newcommand*{\PRIMsort}{\textit{PRIM}}
\newcommand*{\Obj}{\mathcal{O}}
\newcommand*{\II}{\mathcal{I}}
\newcommand*{\Prim}{\textit{Prim}}

%
% EBNF
%

\newcommand*{\ebnfEq}{\Coloneqq}
\newcommand*{\ebnfCont}{\mathrel{\hphantom{\ebnfEq}\mathllap{\mid}}}
\newcommand*{\ebnfSingleEq}{\mathrel{\hphantom{\ebnfEq}\mathllap{=}}}
\newcommand*{\ebnfV}[1]{\ensuremath{\mathopen{\text\guilsinglleft}#1\mathclose{\text\guilsinglright}}}
\newcommand*{\ebnfVar}[1]{\ebnfV{\rel{#1}}}

%
% Listings
%

\definecolor{place}{HTML}{1C8000}
\definecolor{transition}{HTML}{AB3000}
\definecolor{variable}{HTML}{001AAB}
\definecolor{emftype}{HTML}{001AAB}
\definecolor{annotation}{HTML}{646464}

\newcommand*{\kw}[1]{\lit{\color{keyword}\bfseries #1}}

\lstdefinelanguage{vql}{
  morekeywords={package,import,pattern,find,private,or},
  morecomment=[l]{//},
  morecomment=[s]{/*}{*/},
  morestring=[b]",
  morestring=[b]',
  moredelim=[is][\color{emftype}\bfseries]{^}{^}
}

\lstdefinelanguage{ecore2pn}{
  morekeywords={acc,all,annotation,any,as,boolean,case,catch,const,default,derived,do,double,e,else,epackage,exp,extends,extension,false,features,finally,first,for,if,immediate,import,instanceof,int,lookup,mapping,marking,module,new,null,optional,package,param,path,place,priority,product,prop,ref,retention,return,static,steadystate,sum,super,switch,synchronized,throw,tran,transformation,true,try,typeof,until,val,var,weight,while},
  morekeywords={[2]A,AF,AG,AX,ABSTRACT_NET,CONCRETE_NET,E,EF,EG,EX,Ex,F,G,Mttf,Pr,SOURCE,U,W,X},
  sensitive=true,
  morecomment=[l]{//},
  morecomment=[s]{/*}{*/},
  morestring=[b]",
  morestring=[b]',
  moredelim=[is][\color{place}\itshape]{^p}{^},
  moredelim=[is][\color{transition}\itshape]{^t}{^},
  moredelim=[is][\color{variable}\itshape]{^v}{^},
  moredelim=[is][\color{place}]{^P}{^},
  moredelim=[is][\color{transition}]{^T}{^},
  moredelim=[is][\color{variable}]{^V}{^},
  morekeywords={[3]@Description,@RewardConfiguration,@FaultConfiguration},
  keywordstyle={[3]\color{annotation}}
}

%%% Local Variables:
%%% mode: latex
%%% TeX-master: "../main"
%%% End:
